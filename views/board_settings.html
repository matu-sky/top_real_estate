<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>게시판 설정 | 관리자</title>
    <link rel="stylesheet" href="/css/admin_style.css">
</head>
<body>
    <div class="admin-container">
        <aside class="sidebar">
            <div class="sidebar-header">
                <h1><a href="/dashboard">탑 부동산<span>.</span></a></h1>
            </div>
            <ul class="sidebar-menu">
                <% menus.forEach(menu => { %>
                    <li class="<%= menu.url === '/admin/board_settings' ? 'active' : '' %>"><a href="<%= menu.url %>"><%= menu.name %></a></li>
                <% }); %>
                <li><a href="/admin/menu">메뉴 관리</a></li>
            </ul>
            <div class="sidebar-footer">
                <a href="/logout">로그아웃</a>
            </div>
        </aside>

        <main class="main-content">
            <header class="content-header">
                <h2>게시판 설정</h2>
            </header>

            <div class="card">
                <div class="card-header"><h4>게시판 기본 설정</h4></div>
                <div class="card-body">
                    <div class="toolbar">
                        <a href="/admin/board/new" class="btn-primary">게시판 만들기</a>
                    </div>
                    <table class="table">
                        <thead>
                            <tr>
                                <th>게시판 이름</th>
                                <th>경로</th>
                                <th>생성일</th>
                                <th>관리</th>
                            </tr>
                        </thead>
                        <tbody>
                            <% boards.forEach(board => { %>
                                <tr>
                                    <td><a href="/board/<%= board.slug %>" target="_blank"><%= board.name %></a></td>
                                    <td>/board/<%= board.slug %></td>
                                    <td><%= new Date(board.created_at).toLocaleDateString('ko-KR') %></td>
                                    <td>
                                        <a href="/admin/board/edit/<%= board.id %>" class="btn-sm-secondary">수정</a>
                                        <form action="/admin/board/delete/<%= board.id %>" method="POST" style="display:inline;">
                                            <button type="submit" class="btn-sm-danger" onclick="return confirm('정말로 이 게시판을 삭제하시겠습니까? 게시판에 속한 모든 글이 함께 삭제됩니다.');">삭제</button>
                                        </form>
                                    </td>
                                </tr>
                            <% }); %>
                        </tbody>
                    </table>
                </div>
            </div>
        </main>
    </div>
</body>
</html>
